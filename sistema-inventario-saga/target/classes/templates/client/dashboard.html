<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Mi Dashboard - Saga Falabella</title>
    
    <!-- Favicon -->
    <th:block th:replace="~{fragments/head :: favicon}"></th:block>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- CSS Principal del Sistema -->
    <link th:href="@{/css/style.css}" rel="stylesheet">
    <!-- CSS del tema cliente -->
    <link href="/css/client-theme.css" rel="stylesheet">
</head>
<body class="client-page">
    <!-- Incluir navbar -->
    <div th:replace="~{fragments/navbar :: navbar}"></div>
    
    <div class="container-fluid dashboard-container client-fade-in">
        <!-- Header de Bienvenida -->
        <div class="welcome-header">
            <h1 class="display-4 mb-3">
                <i class="fas fa-star text-warning me-2"></i>
                <i class="fas fa-heart text-danger me-2"></i>
                ¬°Hola, <span th:text="${cliente != null ? cliente.nombre : 'Juan'}">Juan</span>!
                <i class="fas fa-smile text-success ms-2"></i>
            </h1>
            <p class="lead mb-3">üéâ Bienvenido a tu √°rea personal de Saga Falabella üõçÔ∏è</p>
            <p class="text-muted">‚ú® Descubre, compra y disfruta de la mejor experiencia de compras ‚ú®</p>
            <div class="mt-3">
                <span class="badge bg-success fs-6 me-2">Cliente VIP</span>
                <span class="badge bg-warning text-dark fs-6">Env√≠o Gratis</span>
            </div>
        </div>
        
        <!-- Estad√≠sticas R√°pidas -->
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="card stats-card text-center">
                    <div class="card-body">
                        <i class="fas fa-shopping-cart stat-icon text-success"></i>
                        <h5 class="card-title text-success">Pedidos Realizados</h5>
                        <h2 class="text-success mb-0">12</h2>
                        <small class="text-muted">Total hist√≥rico</small>
                    </div>
                </div>
            </div>
            
            <div class="col-md-3">
                <div class="card stats-card text-center">
                    <div class="card-body">
                        <i class="fas fa-clock stat-icon" style="color: #FF9800;"></i>
                        <h5 class="card-title" style="color: #FF9800;">Pedidos Pendientes</h5>
                        <h2 class="mb-0" style="color: #FF9800;">3</h2>
                        <small class="text-muted">En proceso</small>
                    </div>
                </div>
            </div>
            
            <div class="col-md-3">
                <div class="card stats-card text-center">
                    <div class="card-body">
                        <i class="fas fa-heart stat-icon text-danger"></i>
                        <h5 class="card-title text-danger">Favoritos</h5>
                        <h2 class="text-danger mb-0">8</h2>
                        <small class="text-muted">Productos guardados</small>
                    </div>
                </div>
            </div>
            
            <div class="col-md-3">
                <div class="card stats-card text-center">
                    <div class="card-body">
                        <i class="fas fa-dollar-sign stat-icon" style="color: #4CAF50;"></i>
                        <h5 class="card-title" style="color: #4CAF50;">Total Gastado</h5>
                        <h2 class="mb-0" style="color: #4CAF50;">S/ 2,450</h2>
                        <small class="text-muted">Este a√±o</small>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Acciones R√°pidas -->
        <div class="quick-actions">
            <h4 class="mb-4"><i class="fas fa-bolt" style="color: #FF9800;"></i> Acciones R√°pidas</h4>
            <div class="row">
                <div class="col-md-2">
                    <a href="/client/catalogo" class="action-btn">
                        <i class="fas fa-search fa-2x"></i>
                        <span>Explorar Productos</span>
                    </a>
                </div>
                <div class="col-md-2">
                    <a href="/client/pedidos" class="action-btn">
                        <i class="fas fa-list fa-2x"></i>
                        <span>Mis Pedidos</span>
                    </a>
                </div>
                <div class="col-md-2">
                    <a href="/client/favoritos" class="action-btn">
                        <i class="fas fa-heart fa-2x"></i>
                        <span>Favoritos</span>
                    </a>
                </div>
                <div class="col-md-2">
                    <a href="/client/perfil" class="action-btn">
                        <i class="fas fa-user fa-2x"></i>
                        <span>Mi Perfil</span>
                    </a>
                </div>
                <div class="col-md-2">
                    <a href="/client/direcciones" class="action-btn">
                        <i class="fas fa-map-marker-alt fa-2x"></i>
                        <span>Direcciones</span>
                    </a>
                </div>
                <div class="col-md-2">
                    <a href="/client/soporte" class="action-btn">
                        <i class="fas fa-headset fa-2x"></i>
                        <span>Soporte</span>
                    </a>
                </div>
            </div>
        </div>
        
        <div class="row">
            <!-- Pedidos Recientes -->
            <div class="col-md-8">
                <div class="card content-card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h5><i class="fas fa-shopping-bag" style="color: white;"></i> Pedidos Recientes</h5>
                        <a href="/client/pedidos" class="btn btn-sm btn-light text-success fw-bold">Ver Todos</a>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Pedido</th>
                                        <th>Fecha</th>
                                        <th>Estado</th>
                                        <th>Total</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>#P-001</strong></td>
                                        <td>15/06/2025</td>
                                        <td><span class="badge bg-success">Enviado</span></td>
                                        <td><strong>S/ 250.00</strong></td>
                                        <td>
                                            <a href="#" class="btn btn-sm btn-outline-primary">
                                                <i class="fas fa-eye"></i>
                                            </a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>#P-002</strong></td>
                                        <td>18/06/2025</td>
                                        <td><span class="badge bg-warning">Procesando</span></td>
                                        <td><strong>S/ 180.50</strong></td>
                                        <td>
                                            <a href="#" class="btn btn-sm btn-outline-primary">
                                                <i class="fas fa-eye"></i>
                                            </a>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>#P-003</strong></td>
                                        <td>19/06/2025</td>
                                        <td><span class="badge bg-secondary">Pendiente</span></td>
                                        <td><strong>S/ 95.00</strong></td>
                                        <td>
                                            <a href="#" class="btn btn-sm btn-outline-primary">
                                                <i class="fas fa-eye"></i>
                                            </a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Informaci√≥n Personal -->
            <div class="col-md-4">
                <div class="card content-card">
                    <div class="card-header">
                        <h5><i class="fas fa-user-circle" style="color: white;"></i> Informaci√≥n Personal</h5>
                    </div>
                    <div class="card-body text-center">
                        <div class="profile-avatar">
                            <i class="fas fa-user fa-2x"></i>
                        </div>
                        <h6 th:text="${cliente != null ? cliente.nombre : 'cliente_demo'}">cliente_demo</h6>
                        <small class="text-muted">Cliente desde Enero 2024</small>
                        
                        <div class="mt-3">
                            <div class="d-flex justify-content-between mb-2">
                                <span>Total Pedidos:</span>
                                <strong>15</strong>
                            </div>
                            <div class="d-flex justify-content-between mb-2">
                                <span>Monto Total:</span>
                                <strong>S/ 2,450</strong>
                            </div>
                            <div class="d-flex justify-content-between mb-2">
                                <span>Puntos Acumulados:</span>
                                <strong>2,450 pts</strong>
                            </div>
                        </div>
                        
                        <div class="mt-3">
                            <a href="/client/perfil" class="btn btn-success btn-sm">
                                <i class="fas fa-edit"></i> Editar Perfil
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- Notificaciones -->
                <div class="card content-card">
                    <div class="card-header">
                        <h5><i class="fas fa-bell" style="color: white;"></i> Actividad Reciente</h5>
                    </div>
                    <div class="card-body">
                        <div class="notification-item">
                            <i class="fas fa-truck text-success"></i>
                            <div>
                                <strong>Tu pedido #P-001 est√° en camino</strong>
                                <br><small class="text-muted">Llegar√° ma√±ana antes de las 6 PM</small>
                            </div>
                        </div>
                        <div class="notification-item">
                            <i class="fas fa-tag text-warning"></i>
                            <div>
                                <strong>Nueva oferta disponible</strong>
                                <br><small class="text-muted">20% descuento en tecnolog√≠a</small>
                            </div>
                        </div>
                        <div class="notification-item">
                            <i class="fas fa-star text-info"></i>
                            <div>
                                <strong>¬°Alcanzaste nivel VIP!</strong>
                                <br><small class="text-muted">Disfruta de env√≠os gratis</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Eliminar el hash de la URL al cargar la p√°gina
        if (window.location.hash) {
            history.replaceState(null, null, window.location.pathname + window.location.search);
        }
        
        // Prevenir que se agregue hash en enlaces
        document.addEventListener('DOMContentLoaded', function() {
            const links = document.querySelectorAll('a[href^="#"]');
            links.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                });
            });
        });
    </script>
</body>
</html>
